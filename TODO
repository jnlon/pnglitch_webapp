- There's a lot of unnecessary pointer arithmetic that can be removed by using
  open_memstream or fmemopen. Eventially we should update it to use this.
